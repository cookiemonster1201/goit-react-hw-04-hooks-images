(this.webpackJsonpname=this.webpackJsonpname||[]).push([[0],{15:function(e,t,a){e.exports={image:"ImageGalleryItem_image__32_jr",item:"ImageGalleryItem_item__26F25"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},17:function(e,t,a){e.exports={button:"ButtonUp_button__3ZzUV",visible:"ButtonUp_visible__1m1Ff"}},31:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__gboaM"}},32:function(e,t,a){e.exports={button:"Button_button__3QF_k"}},34:function(e,t,a){e.exports={grid:"App_grid__3DnSg"}},8:function(e,t,a){e.exports={searchForm:"SearchBar_searchForm__bTf69",button:"SearchBar_button__zjQ9i",label:"SearchBar_label__3cqEl",input:"SearchBar_input__35An9",searchBar:"SearchBar_searchBar__1u-sB"}},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c),o=a(4),s=a(5),u=(a(39),a(8)),l=a.n(u),b=a(1);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],i=r[1];var u=l.a.searchBar,d=l.a.searchForm,j=l.a.button,m=l.a.label,h=l.a.input;return Object(b.jsx)("header",{className:u,children:Object(b.jsxs)("form",{className:d,onSubmit:function(e){if(e.preventDefault(),""!==e.currentTarget.query.value.trim()){var a=e.currentTarget.query.value.trim().toLowerCase();t(a),i(""),e.currentTarget.reset()}else s.b.info("please type a query")},children:[Object(b.jsx)("button",{type:"submit",className:j,children:Object(b.jsx)("span",{className:m,children:"Search"})}),Object(b.jsx)("input",{className:h,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.currentTarget.value;i(t)}})]})})}var j=a(7),m=a.n(j),h=a(18),f=a(13),g=a(27),p=a.n(g),O=(a(62),a(28)),v=a(29),x=a(30),y=a.n(x),_=function(){function e(t,a){Object(O.a)(this,e),this.query="",this.page=1,this.key=t,this.baseUrl=a}return Object(v.a)(e,[{key:"fetchData",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({q:this.query,page:this.page,key:this.key}),a="".concat(this.baseUrl,"image_type=photo&orientation=horizontal&per_page=12&").concat(t),e.next=4,y.a.get(a);case 4:return n=e.sent,e.abrupt("return",n.data.hits);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPage",value:function(){this.page=1}},{key:"incrementPage",value:function(){this.page+=1}},{key:"searchQuery",get:function(){return this.searchQuery},set:function(e){this.query=e}}]),e}(),w=a.p+"static/media/error-img.64aecb11.png";function k(){return Object(b.jsx)("div",{style:{paddingTop:"100px"},children:Object(b.jsx)("img",{src:w,alt:"welcome",width:600,style:{margin:"0 auto"}})})}var S=a.p+"static/media/welcome-img.60dcdefa.png";function N(){return Object(b.jsx)("div",{style:{paddingTop:"100px"},children:Object(b.jsx)("img",{src:S,alt:"welcome",width:800,style:{margin:"0 auto"}})})}var E=a(15),B=a.n(E);function C(e){var t=e.image,a=t.webformatURL,n=t.tags,r=B.a.image,c=B.a.item;return Object(b.jsx)("li",{className:c,children:Object(b.jsx)("img",{src:a,alt:n,className:r})})}var q=a(31),I=a.n(q);function L(e){var t=e.images,a=e.trackScroll,r=e.handleOpenModal,c=I.a.gallery;return Object(n.useEffect)((function(){return window.addEventListener("scroll",a),window.removeEventListener("scroll",a)}),[a]),Object(b.jsx)("ul",{className:c,onClick:r,children:t&&t.map((function(e){return Object(b.jsx)(C,{image:e},e.id)}))})}var T=a(32),M=a.n(T);function U(e){var t=e.onClick,a=M.a.button;return Object(b.jsx)("button",{type:"button",className:a,onClick:t,children:Object(b.jsx)("span",{children:"Show more"})})}var F=a(16),P=a.n(F),G=document.querySelector("#modal-root");function Q(e){var t=e.closeModal,a=e.handleGalleryNav,r=e.imgIdx,i=e.children,o=e.images,u=P.a.modal,l=P.a.overlay;Object(n.useEffect)((function(){return window.addEventListener("keydown",d),function(){window.removeEventListener("keydown",d)}}),[]);var d=function(e){switch(e.code){case"Escape":t();break;case"ArrowRight":r>=o.length-1?a(r=0):a(++r);break;case"ArrowLeft":a(r<=0?r=o.length-1:--r);break;default:s.b.info("Press ESC to exit")}};return Object(c.createPortal)(Object(b.jsx)("div",{className:l,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(b.jsx)("div",{className:u,children:i})}),G)}var R=a(33),A=a.n(R),D=a.p+"static/media/up-arrow.79fd32b5.png",V=a(17),z=a.n(V);function H(e){var t=e.onClick,a=e.isVisible,n=z.a.button,r=z.a.visible;return Object(b.jsx)("button",{type:"button",className:a?A()(n,r):n,onClick:t,children:Object(b.jsx)("img",{src:D,alt:"go up"})})}var J=new _("22995461-dcfca2d4906f7ecb85a6d619d","https://pixabay.com/api/?");function Y(e){var t=e.query,a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],i=r[1],u=Object(n.useState)(!1),l=Object(o.a)(u,2),d=l[0],j=l[1],g=Object(n.useState)(!1),O=Object(o.a)(g,2),v=O[0],x=O[1],y=Object(n.useState)(!1),_=Object(o.a)(y,2),w=_[0],S=_[1],E=Object(n.useState)(!1),B=Object(o.a)(E,2),C=B[0],q=B[1],I=Object(n.useState)(0),T=Object(o.a)(I,2),M=T[0],F=T[1],P=Object(n.useState)("idle"),G=Object(o.a)(P,2),R=G[0],A=G[1];function D(){return V.apply(this,arguments)}function V(){return(V=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,J.fetchData();case 4:if(0!==(t=e.sent).length){e.next=9;break}return s.b.warning("Sorry, we couldn't find anything"),A("idle"),e.abrupt("return");case 9:i((function(e){return[].concat(Object(h.a)(e),Object(h.a)(t))})),A("resolved"),q(!1),J.incrementPage(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),A("rejected"),s.b.error("Something went wrong...(");case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function z(){j((function(e){return!e}))}return Object(n.useEffect)((function(){""!==t.trim()&&(i([]),J.searchQuery=t,J.resetPage(),D())}),[t]),Object(n.useEffect)((function(){c.length<12?S(!1):S(!0),c.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[c.length,w]),"idle"===R?Object(b.jsx)(N,{}):"rejected"===R?Object(b.jsx)(k,{}):"resolved"===R?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(L,{images:c,showImages:D,handleOpenModal:function(e){var t=e.target;if("IMG"===t.nodeName){var a=function(e){var t;return c.forEach((function(a,n){a.webformatURL===e&&(t=n)})),t}(t.src);F(a),z()}},trackScroll:function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&x(!0),e<t&&x(!1)}}),C&&Object(b.jsx)(p.a,{type:"Oval",color:"#da5f01",height:80,width:80,style:{margin:"0 auto"}}),w&&Object(b.jsx)(U,{onClick:D}),Object(b.jsx)(H,{onClick:function e(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(e,0))},isVisible:v}),d&&Object(b.jsx)(Q,{closeModal:z,handleGalleryNav:F,imgIdx:M,images:c,children:Object(b.jsx)("img",{src:c[M].largeImageURL,alt:c[M].tags,width:1e3})})]}):void 0}var W=a(34),Z=a.n(W);function K(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Z.a.grid;return Object(b.jsxs)("div",{className:c,children:[Object(b.jsx)(d,{onSubmit:r}),Object(b.jsx)(Y,{query:a}),Object(b.jsx)(s.a,{autoClose:3e3,theme:"dark"})]})}a(81);i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.4e47fd96.chunk.js.map